function hTh(a){if(a.D)return a.D;a.D=[];var b=zH(a);a.D=Xc(b,function(c){var d=Ine(c);if(An(d,12))return new dU(null,en().vRa()(An(d,12)));c=On(en().Nw()(c,!1));return new dU(YE(c),null)});return a.D}function iTh(a,b,c){return ny(Vib(py(ly(a).Zg),py(ly(b).Zg),c))}function jTh(a){var b=a.C.cloneNode(!1);a.oa().pr(b,a.C);return b}
function kTh(a,b){var c=b.getContext("2d"),d=NL(a.D),e=a.D.Pb(),f=TK(a.D),h=UK(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;Iwc(a.C,c,0,0,0,0,d.width,h);Iwc(a.C,c,e,h,e,h,f,k)}function lTh(a){this.rb=hn(a,-1,0)}u(lTh,mn);lTh.prototype.kb=function(){return new mTh(this)};function mTh(a){Cn.call(this,a)}u(mTh,Cn);function nTh(a,b,c){cI.call(this,131);this.F=a;this.J=b;this.C=c}u(nTh,cI);nTh.prototype.Pd=function(){var a=void 0===a?on(lTh):a;a=new mTh(a);a=Mn(a,1,this.F);a=Fn(a,4,this.C);var b=r5e(this.J);a=Kn(a,3,b);return Dn(a)};function oTh(a){this.rb=hn(a,-1,0)}u(oTh,mn);oTh.prototype.kb=function(){return new pTh(this)};function pTh(a){Cn.call(this,a)}u(pTh,Cn);function qTh(a,b){cI.call(this,132);this.C=a;this.F=b}u(qTh,cI);qTh.prototype.Pd=function(){var a=void 0===a?on(oTh):a;a=new pTh(a);a=Mn(a,1,this.C);a=Mn(a,2,this.F);return Dn(a)};qTh.prototype.wg=l(!1);function rTh(a){this.rb=hn(a,-1,0)}u(rTh,mn);rTh.prototype.kb=function(){return new sTh(this)};function sTh(a){Cn.call(this,a)}u(sTh,Cn);function tTh(a,b,c){cI.call(this,41);this.C=b;this.F=c}u(tTh,cI);tTh.prototype.Pd=function(){var a=void 0===a?on(rTh):a;a=new sTh(a);a=Mn(a,1,this.C);a=Fn(a,2,this.F);return Dn(a)};tTh.prototype.wg=l(!1);tTh.prototype.Kk=l("Filter view duplicated");function uTh(a){this.rb=hn(a,-1,0)}u(uTh,mn);uTh.prototype.kb=function(){return new vTh(this)};uTh.prototype.getName=function(){return An(this,2)};function vTh(a){Cn.call(this,a)}u(vTh,Cn);vTh.prototype.getName=function(){return this.message.getName()};vTh.prototype.ad=function(a){return Mn(this,2,a)};function wTh(a,b,c){cI.call(this,43);this.F=b;this.C=c}u(wTh,cI);wTh.prototype.Pd=function(){var a=void 0===a?on(uTh):a;a=new vTh(a);a=Mn(a,1,this.F);return Dn(a.ad(this.C))};wTh.prototype.wg=l(!1);wTh.prototype.Kk=function(){return"Filter view renamed to "+this.C};function xTh(a,b){a=a.b_b;return R('<div class="'+S("waffle-filter-bar-rangepill")+" "+S("goog-inline-block")+'" tabindex="0"><span class="'+S("waffle-filter-bar-rangepill-range")+" "+S("goog-inline-block")+'"></span>'+Q(y2e({enabled:"true",Ie:"waffle-filter-bar-rangepill-close",hidden:a},b))+"</div>")};function yTh(a,b,c,d,e){P.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}u(yTh,P);yTh.prototype.Ba=function(){this.qb(nu(xTh,{b_b:this.D}));this.oa().Ke(this.Fa("waffle-filter-bar-rangepill-range"),zTh(this))};yTh.prototype.Ha=function(){P.prototype.Ha.call(this);this.getHandler().Of(this.La(),Gm,this.L);if(!this.D){var a=new pw("",new nw,this.oa());this.Ga(a);var b=this.Fa("waffle-filter-bar-rangepill-close");a.Xa(b);Iw(b,"Remove",void 0);this.getHandler().listen(a,"action",this.J)}};
yTh.prototype.L=function(a){a.target!=this.Fa("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new zm("jj",this))};yTh.prototype.J=function(a){this.dispatchEvent(new zm("kj",this));a.stopPropagation()};function zTh(a){return e0e(a.H,a.C)?f0e(a.H,a.C,!1):"#REF"};function ATh(){var a='<div class="'+S("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+S("waffle-filter-bar-header")+" "+S("waffle-filter-bar-range-label")+" "+S("goog-inline-block")+'">';a=a+'Ranges:</span><div class="'+(S("waffle-filter-bar-range-filter-pills-container")+" "+S("goog-inline-block")+'"></div><div class="'+S("waffle-filter-bar-add-range-filter-button")+" "+S("goog-inline-block")+'">');a=a+'Add new range</div><input class="'+(S("jfk-textinput")+
" "+S("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+S("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return R(a)};function BTh(a,b,c,d){P.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new P;this.Ga(this.L);this.H=new pw(void 0,Ey.getInstance(),d);this.Ga(this.H);this.F=new dy(void 0,d);this.Ga(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.ea=!1}u(BTh,P);p=BTh.prototype;
p.Ba=function(){this.qb(nu(ATh));this.L.Xa(this.Fa("waffle-filter-bar-range-filter-pills-container"));this.H.Xa(this.Fa("waffle-filter-bar-add-range-filter-button"));this.H.Pa(!0);var a=this.Fa("waffle-filter-bar-range-pill-input");this.F.Xa(a)};
p.Ha=function(){P.prototype.Ha.call(this);var a=new Ov,b=this.F.La();Pv(a,b);b=new Zu(b);this.getHandler().listen(this.L,"jj",this.cHb).listen(this.L,"kj",this.EFb).listen(a,"key",this.tbc).listen(b,"focusin",this.rbc).listen(b,"focusout",this.sbc).listen(this.H,"action",this.DAb)};p.Sc=function(){var a=this;this.L.Dd(!0);Tc(CTh(this),function(b){a.L.Ga(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,DTh(a,a.D.La()))})};
p.cHb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&ETh(this);this.D=a.target;this.F.setValue(zTh(this.D));DTh(this,this.D.La());this.C="waffle-filter-bar-range-filter-pill-edit"};p.EFb=function(a){var b=bH(this.J)?this.J.getActiveGrid().Jc().D:null;if(b&&(b=yH(b))){a=a.target;var c={};xub.sb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};
p.DAb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&ETh(this);var a=this.J.getActiveGrid().Jc().C;this.F.setValue(sK(a));DTh(this,this.H.La());this.C="waffle-filter-bar-range-section-mode-add"};function DTh(a,b){var c=a.F.La();It(c,Kt(b).width);a.oa().pr(c,b);O(b,!1);O(c,!0);b=new Bo(function(){return gy(a.F)});a.qa(b);b.start()}
function ETh(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(O("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.La():a.H.La(),!0),O(a.F.La(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}p.tbc=function(a){13==a.keyCode?(FTh(this),ETh(this),this.O.Hb(3)):27==a.keyCode&&(ETh(this),this.Sc(),this.O.Hb(3));a.stopPropagation()};p.sbc=function(){this.getParent().Nd&&(FTh(this),ETh(this))};p.rbc=function(){this.O.Hb(2)};
function CTh(a){var b=bH(a.J)?a.J.getActiveGrid().Jc().D:null;if(!b||!yH(b))return[];var c=zH(b),d=1==c.length;return Xc(hTh(b),function(e,f){return new yTh(c[f++],e,a.R,d)})}
function FTh(a){if(!a.ea){var b=Hd(a.F.getValue());if((b=i0e(a.R,b))&&e0e(a.R,b)){a.ea=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=yH(eH(a.J).D),d={};vub.sb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},$z.sb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.ea=!1}}};function GTh(){return R('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function HTh(){return R('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function ITh(a,b){a=a.TZb;var c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
(S("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+Q($jb({enabled:!0,title:"Options",id:"waffle-filter-bar-options",Co:"waffle-filter-bar-options",dH:tu(""+Q(Fy({icon:"docs-icon-img docs-icon-settings-white"},b)))}));c+=Q(akb({id:"waffle-filter-bar-close",Ie:"waffle-filter-bar-close"},b))+"</div></div>";return R(c)};function JTh(a,b,c,d,e,f){YX.call(this,f);this.Qa=a;this.jb=b;this.Ra=c;this.Ia=d;this.Aa=e;this.R=null;this.$N=new dy(void 0,f);this.Ga(this.$N);this.Ma=null;this.xa=new By;this.Ga(this.xa);this.ma=null;this.tF=new dy(void 0,f);this.Ga(this.tF);if(this.L=y(A(),"femrfifv"))this.Ca=new BTh(a,d,e),this.Ga(this.Ca);this.C=null;this.$a=new tw("Rename");this.fb=new tw("Update Range");this.Va=new tw("Duplicate");this.Sa=new tw("Delete");this.Ya=new tw("Learn more");this.F=new Ew(null,null,Ey.getInstance(),
f);this.F.Wc(this.$a);this.L||this.F.Wc(this.fb);this.F.Wc(this.Va);this.F.Wc(this.Sa);this.F.Wc(new xw);this.F.Wc(this.Ya);this.Ga(this.F);this.O=new pw(void 0,Ey.getInstance(),f);this.Ga(this.O)}u(JTh,YX);p=JTh.prototype;p.pPa=l("waffle-slidingdialog-filterbar");p.k1a=function(){return nu(ITh,{TZb:this.L})};
p.Ha=function(){YX.prototype.Ha.call(this);var a=this.Fa("waffle-filter-bar-name-input");this.$N.Xa(a);Ru(a,"label-input-label");this.xa.Xa(a);this.R=this.Fa("waffle-filter-bar-name-readonly");this.Ma=this.Fa("waffle-filter-bar-name-label");this.L?this.Ca.render(this.Fa("waffle-filter-bar-range-section-container")):(a=this.Fa("waffle-filter-bar-range-input"),this.tF.Xa(a),this.ma=this.Fa("waffle-filter-bar-range-readonly"),KTh(this));this.F.Xa(this.Fa("waffle-filter-bar-options"));this.F.Pa(!0);this.O.Xa(this.Fa("waffle-filter-bar-close"));
this.O.Pa(!0);LTh(this);MTh(this)};
function MTh(a){var b=eF(a.jb),c=new Ov;Pv(c,a.$N.getElement());var d=new Zu(a.$N.getElement()),e=new Ov;Pv(e,a.O.getElement());a.getHandler().listen(a.O,"action",a.vbc).listen(b,["rc","tc","uc"],a.Sc).listen(c,"key",a.VNb).listen(e,"key",a.HVb).listen(d,"focusin",a.m1a).listen(d,"focusout",a.UNb);Zz.Bb(dq,function(){return LTh(a)});b=new ix(void 0,void 0,!0,$y.getInstance());kx(b,a.$a,Zz);kx(b,a.Va,Yz);kx(b,a.Sa,Xz);kx(b,a.Ya,(Hq(),As),void 0,a.yQa);a.L||(c=new Ov,Pv(c,a.tF.getElement()),d=new Zu(a.tF.getElement()),
a.getHandler().listen(c,"key",a.xbc).listen(d,"focusin",a.m1a).listen(d,"focusout",a.wbc),$z.Bb(dq,function(){return KTh(a)}),kx(b,a.fb,$z))}p.setVisible=function(a,b){YX.prototype.setVisible.call(this,a,b);a&&this.Sc();!a&&this.C&&(this.C.setVisible(!1),this.C=null)};
p.Y3a=function(){var a=NTh(this);if(a&&(a=DH(a),this.Ra.D[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=nu(a?HTh:GTh);this.C=new jz(this.oa().getElement("waffle-filter-bar-promo"));this.qa(this.C);this.C.setPosition(1,0);this.C.setContent(b);fw(this.C,!1);this.C.hF=!0;this.C.render();b=this.oa().getElement("waffle-filterbar-promo-dismiss-link");Gm.listen(b,this.Xga,!1,this);b=this.oa().getElement("waffle-filterbar-promo-learn-more-link");Gm.listen(b,this.OVa,
!1,this);this.getHandler().listen(this.C,"hide",this.Xga);yK(this.Ra,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.Xga=function(){if(this.C){var a=this.oa().getElement("waffle-filterbar-promo-dismiss-link");Gm.Kc(a,this.Xga,!1,this);a=this.oa().getElement("waffle-filterbar-promo-learn-more-link");Gm.Kc(a,this.OVa,!1,this);this.getHandler().Kc(this.C,"hide",this.Xga);this.C.setVisible(!1);this.C=null}};
p.Sc=function(){var a=NTh(this);if(a){var b=yH(a);if(b){this.F.setVisible(!DH(a));O(this.Ma,!DH(a));b=t_b(b);var c="Name: "+b;this.xa.setValue(b);this.oa().Ke(this.R,b);Lu(this.R,c);this.L?this.Ca.Sc():(a=hTh(a)[0],a=e0e(this.Aa,a)?f0e(this.Aa,a,!1):"#REF",b="Range: "+a,this.tF.setValue(a),this.oa().Ke(this.ma,a),Lu(this.ma,b))}}};p.vbc=function(){this.dispatchEvent("close");OTh(this)};p.VNb=function(a){13==a.keyCode?(PTh(this),OTh(this)):27==a.keyCode&&(this.Sc(),a.stopPropagation(),OTh(this))};
p.xbc=function(a){13==a.keyCode?(QTh(this),OTh(this)):27==a.keyCode&&(this.Sc(),a.stopPropagation(),OTh(this))};p.HVb=function(a){a.shiftKey||9!=a.keyCode||(OTh(this),a.stopPropagation())};function OTh(a){a.Ia.Hb(3)}p.m1a=function(){this.Ia.Hb(2)};p.UNb=function(){this.Nd&&PTh(this)};p.wbc=function(){this.Nd&&QTh(this)};function LTh(a){var b=Zz.isEnabled();O(a.$N.getElement(),b);O(a.R,!b)}function KTh(a){var b=$z.isEnabled();O(a.tF.getElement(),b);O(a.ma,!b)}
function PTh(a){var b=NTh(a);if(b){b=yH(b);var c=t_b(b),d=Hd(a.$N.getValue());c==d?a.Sc():(a={},Zz.sb((a.name=d,a["filter-view-id"]=b,a)))}}function QTh(a){var b=NTh(a);if(b){var c=zH(b)[0],d=Hd(a.tF.getValue());(d=i0e(a.Aa,d))?hTh(b)[0].equals(d)?a.Sc():(a={},$z.sb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Sc()}}p.OVa=function(){(Hq(),As).sb(this.yQa())};p.yQa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){gy(this.$N)};
function NTh(a){return bH(a.Qa)?a.Qa.getActiveGrid().Jc().D:null};function RTh(a){this.rb=hn(a,-1,0)}u(RTh,mn);RTh.prototype.kb=function(){return new STh(this)};RTh.prototype.gb=function(){return An(this,1)};RTh.prototype.getRange=function(){return this.Mb(2,Nn)};function STh(a){Cn.call(this,a)}u(STh,Cn);STh.prototype.gb=function(){return this.message.gb()};STh.prototype.getRange=function(){return this.message.getRange()};function TTh(a,b,c,d){cI.call(this,70);this.J=a.Jb();this.C=b;this.F=c;this.L=d}u(TTh,cI);TTh.prototype.Pd=function(){var a=void 0===a?on(RTh):a;a=new STh(a);a=Mn(a,1,this.J);a=Mn(a,4,this.C);var b=r5e(this.F);a=Kn(a,3,b);return Dn(a)};TTh.prototype.Kk=function(){return"Filter range updated to "+(this.L+".")};function UTh(a,b,c,d,e,f){XX.call(this,"waffle-filterbar-id",e);this.O=w(this.Qrc,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new gx(this);this.qa(this.J);this.J.subscribe(Yz,"action",this.YGb).subscribe(Xz,"action",this.DFb).subscribe(Zz,"action",this.NRb).subscribe($z,"action",this.UWb).subscribe(vub,"action",this.ubc).subscribe(xub,"action",this.FFb)}u(UTh,XX);p=UTh.prototype;p.Qrc=function(){this.C.setVisible(!0)};
p.DFb=function(){var a=VTh(this),b=yH(a.D);b&&this.D.C(new QBe(a,b))};p.YGb=function(){var a=VTh(this),b=yH(a.D);b&&this.D.C(new tTh(a,b,!this.F.H.C))};p.NRb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&Hd(a))&&a.length){var c=VTh(this);this.D.C(new wTh(c,b,a))}else this.C.Sc()}else gy(this.C.$N)};p.UWb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=VTh(this),d=f0e(this.F.Ya,a,!1);this.D.C(new TTh(c,b,a,d))}else gy(this.C.tF)};
p.ubc=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=VTh(this);this.D.C(new nTh(b,a,DH(c.D)))}else gy(this.C.tF)};p.FFb=function(a){a?this.D.C(new qTh(a["filter-view-id"],a["range-filter-id"])):gy(this.C.tF)};p.v5=function(){return new JTh(this.H,this.L,this.ma,this.R,this.F.Ya)};p.XC=function(){XX.prototype.XC.call(this);this.getHandler().listen(this.C,"close",this.FWb);this.HL()};p.Gp=l("waffle-filterbar-id");p.FWb=function(){var a=VTh(this);this.D.C(new tO(a,null))};
p.setVisible=function(a,b){this.C.setVisible(a,b)};function VTh(a){return a.H.getActiveGrid().Jc()};function WTh(a,b,c,d,e,f,h){B.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.ea=e;this.R=f;this.ma=h;this.H=new Km(this);this.qa(this.H);this.C=this.D=null;a=eF(this.J);this.H.listen(a,["rc","sc","tc","uc"],this.ybc).listen(this.F,["pa","Fa"],this.Abc).listen(this.F,["oa","Ga"],this.zbc);wub.Bb(fq,w(this.bBb,this));XTh(this,!1)}u(WTh,B);function XTh(a,b){if(a.F.C)if(bH(a.F)){var c=eH(a.F).D,d=CH(c);c=d&&!EH(c);YTh(a,d,c,b)}else YTh(a,!1,!1,b)}
function YTh(a,b,c,d){b&&!c&&a.C?a.C.play():a.C&&a.C.stop();c&&!a.D&&(a.D=new UTh(a.F,a.J,a.O,a.ea,a.R,a.ma),a.qa(a.D),a.H.listen(a.D,"end",a.RBb),a.D.show());if(a.D&&(a.D.setVisible(c,d),d)){if(a=iI(a.L))b=a.xa.$a,c=c?1:0,iTh("#555555","#f3f3f3",c),iTh("#363636","#ddd",c),iTh("#516374","#8fb1e8",c),iTh("white","black",c),iTh("white","green",c),b.C.color=iTh("#3c3c3c","#ccc",c),L0e(a);Pve()}}p=WTh.prototype;p.RBb=function(){Pve();this.C&&this.C.play(!0)};p.ybc=function(){XTh(this,!1)};
p.Abc=function(){YTh(this,!1,!1,!0)};p.zbc=function(){XTh(this,!0)};p.bBb=function(){var a=this;this.C&&this.C.stop();var b=iI(this.L);if(b){b=b.xa;var c=jTh(b);wt(c,"z-index",3);wt(c,"pointer-events","none");c.removeAttribute("moz-opaque");kTh(b,c);this.C=wbb(c,.35);this.H.Qc(this.C,"end",function(){Ll(c);Hf(a.C);a.C=null})}};function ZTh(){Vm.apply(this,arguments)}u(ZTh,Vm);ZTh.prototype.C=function(){return WTh};cn("filterbar",ZTh);
